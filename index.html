<!DOCTYPE html>
<html lang="es-MX">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>Pizza Rush: Sueno Inmigrante</title>
  <meta name="description" content="Juego de pizzeria para celular: cocina, pedidos, publicidad y crecimiento de sucursales.">
  <meta name="theme-color" content="#8d1e10">
  <link rel="manifest" href="/manifest.webmanifest">
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <main class="app">
    <div id="bootSplash" class="boot-splash" role="dialog" aria-label="Pantalla de inicio">
      <div class="boot-card">
        <div class="boot-logo-wrap">
          <img class="boot-slice" src="assets/pizza-baked.svg" alt="" aria-hidden="true">
          <h1 class="boot-title">TiendaPizza</h1>
        </div>
        <p class="boot-subtitle">Preparando masa, horno y ciudad...</p>
        <div class="boot-progress" aria-label="Cargando">
          <div id="bootProgressFill" class="boot-progress-fill"></div>
        </div>
        <p id="bootPercent" class="boot-percent">0%</p>
        <button id="bootStartBtn" class="boot-start" type="button" hidden disabled>START GAME</button>
      </div>
    </div>

    <header class="hud" aria-label="Indicadores del juego">
      <div class="hud-priority" role="group" aria-label="Indicadores principales">
        <div class="hud-chip">
          <span>Dinero</span>
          <strong id="moneyLabel">$40</strong>
        </div>
        <div class="hud-chip">
          <span>Pedidos</span>
          <strong id="queueLabel">0/2</strong>
        </div>
        <div class="hud-chip">
          <span>Estrellas</span>
          <strong id="repLabel">5.0</strong>
        </div>
      </div>
      <div class="hud-goal-row">
        <p id="objectiveLabel" class="objective-chip">Objetivo: Prepara la primera pizza.</p>
        <button id="hudDetailsBtn" class="hud-details-btn" type="button" aria-expanded="false">Detalles</button>
      </div>
      <div id="hudDetails" class="hud-details" hidden>
        <div class="hud-mini"><span>Ciudad</span><strong id="cityLabel">Brooklyn, EE. UU.</strong></div>
        <div class="hud-mini"><span>Dia</span><strong id="dayLabel">1</strong></div>
        <div class="hud-mini"><span>Sucursales</span><strong id="shopsLabel">1</strong></div>
      </div>
    </header>

    <section class="stage">
      <canvas id="gameCanvas" width="360" height="560" aria-label="Area del juego de pizzeria"></canvas>
      <div id="toast" class="toast">Toca el mapa para moverte</div>

      <div id="startOverlay" class="start-overlay" role="dialog" aria-label="Inicio de juego">
        <div class="overlay-card">
          <h1>Pizza Rush</h1>
          <p class="lead">Llegaste desde Napoles. Elige tu ciudad y abre tu primera pizzeria.</p>

          <div class="city-picker" role="group" aria-label="Elige ciudad inicial">
            <button class="city-option active" data-city="usa" type="button">EE. UU.: Brooklyn</button>
            <button class="city-option" data-city="canada" type="button">Canada: Toronto</button>
            <button class="city-option" data-city="mexico" type="button">Mexico: Monterrey</button>
          </div>

          <p id="cityDesc" class="city-desc">Campana equilibrada con crecimiento constante y presion de clientes.</p>

          <ol class="guide">
            <li>Toca cualquier punto para caminar hacia alla.</li>
            <li>Toca una estacion para caminar y activarla al llegar.</li>
            <li>Doble toque para sprint corto cuando necesites velocidad.</li>
            <li>Cocina, entrega, anuncia y expande sucursales para crecer.</li>
          </ol>

          <div class="overlay-actions">
            <button id="startBtn" class="start-btn" type="button">Nueva Partida</button>
            <button id="continueBtn" class="continue-btn" type="button" hidden>Continuar Partida Guardada</button>
          </div>
        </div>
      </div>
    </section>

    <section class="controls" aria-label="Controles tactiles">
      <p class="tap-hint">Toca para moverte y actuar. Doble toque para sprint.</p>
      <div class="control-row">
        <button id="soundBtn" class="sound" type="button">Sonido Activo</button>
        <button id="hapticBtn" class="haptic" type="button">Vibracion Activa</button>
      </div>
      <div class="control-row control-row-single">
        <button id="sprintBtn" class="sprint" type="button" aria-pressed="false">Mantener Sprint</button>
      </div>
    </section>
  </main>

  <script src="game.js" defer></script>
</body>
</html>
